<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Data Visualisation">
    <meta name="keywords" content="HTML, CSS, D3"/>
    <meta name="author" content="Gareth Hand">
    
    <title>LAB 3.1 D3 Scaling your Charts</title>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .dot {
            fill: slategrey;
        }

        .dot-label {
            font-size: 12px;
            fill: black;
        }
    </style>

</head>
<body>

    <h1>The D3 Journey starts here... </h1>

    <script>

        var w = 800;
        var h = 300; 
        var padding = 50;

        var dataset = [
            [5, 20, 10],   
            [500, 100, 20],
            [250, 50, 15],
            [100, 33, 7],
            [330, 95, 21],
            [410, 12, 10],
            [475, 44, 25],
            [25, 67, 5],
            [85, 21, 8],
            [220, 88, 28],
        ];

        var xScale = d3.scaleLinear()
            .domain([d3.min(dataset, function(d) {
                        return d[0];
            }),
                    d3.max(dataset, function(d) {
                        return d[0];
            })])
            .range([padding, w - padding]);

        var yScale = d3.scaleLinear()
            .domain([d3.min(dataset, function(d) { 
                return d[1]; 
            }),
             d3.max(dataset, function(d) { 
                return d[1]; 
            })])
            .range([h - padding, padding]);


        var svg = d3.select("body")
            .append("svg")
            .attr("width", w)
            .attr("height", h);

        svg.selectAll("circle")
            .data(dataset)
            .enter()
            .append("circle")
            .attr("class", "dot")
            .attr("cx", function(d, i) { 
                return xScale(d[0]); 
            })
            .attr("cy", function(d, i) { 
                return yScale(d[1]); 
            })
            .attr("r", 5);

        svg.selectAll("text")
            .data(dataset)
            .enter()
            .append("text")
            .attr("class", "dot-label")
            .text(function(d) { return d[0] + "," + d[1]; })
            .attr("x", function(d) { return xScale(d[0]); })
            .attr("y", function(d) { return yScale(d[1]); })
            .attr("dy", -10);

        var xAxis = d3.axisBottom()
            .scale(xScale)
            .tickValues([100, 200, 300, 400, 500]); 
        
        svg.append("g")
            .attr("transform", "translate(0, "+ (h - padding ) + ")")
            .call(xAxis);

        var yAxis = d3.axisLeft()
            .scale(yScale)
            .ticks(4)

        svg.append("g")
            .attr("transform", "translate(" + padding  + ",0)")
            .call(yAxis);

    </script>
    <br>
    <footer style="color:grey">COS30045 Data Visualisation<br>Gareth Hand</footer>
</body>
</html>
