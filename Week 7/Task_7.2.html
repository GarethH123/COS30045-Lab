<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Data Visualisation">
    <meta name="keywords" content="HTML, CSS, D3"/>
    <meta name="author" content="Gareth Hand">
    
    <title>LAB 7.2 D3 Scaling your Charts</title>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .dot {
            fill: slategrey;
        }

        .dot-label {
            font-size: 12px;
            fill: black;
        }
    </style>

</head>
<body>

    <h1>The D3 Journey starts here... </h1>
    <svg width="300" height="300"></svg>
    
    <script>

        var w = 300;
        var h = 300; 
        var padding = 50;

        var dataset = [14, 5, 26, 23, 9];

        var outerRadius= w /2;
        var innerRadius= 0;

        var svg = d3.select("svg");

        var color = d3.scaleOrdinal(d3.schemeCategory10);

        var arc = d3.arc()
                    .outerRadius(outerRadius)
                    .innerRadius(innerRadius);
        
        var pie = d3.pie();

        var arcs = svg.selectAll("g.arc")
              .data(pie(dataset))
              .enter()
              .append("g")
              .attr("class", "arc")
              .attr("transform", `translate(${outerRadius}, ${outerRadius})`);

        arcs.append("path")
            .attr("fill", function(d, i) { 
            return color(i); 
            })
            .attr("d", function(d, i) { 
            return arc(d, i); 
            });
        
        arcs.append("text")
            .text(function(d) {
                return d.value;
            })

        .attr("transform", function(d) {
            return "translate(" + arc.centroid(d) + ")";
            })


    </script>
    <br>
    <footer style="color:grey">COS30045 Data Visualisation<br>Gareth Hand</footer>
</body>
</html>
